---
import colors from "./config/colors.json";

if (Astro.props.color === undefined) {
  Astro.props.color = colors[Math.floor(Math.random() * colors.length)];
}

const { color } = Astro.props;
---

<div class="min-h-screen brutal-card p-4 sm:p-6 md:p-8">
  <form
    id="serviceForm"
    class="space-y-8 w-full max-w-7xl mx-auto"
    method="post"
  >
    <h1 class="text-4xl md:text-5xl font-bold text-center mb-8 sanchez">
      Agenda tu Servicio
    </h1>

    <div class="grid lg:grid-cols-3 gap-6">
      <!-- complete name input -->
      <div class="space-y-2 p-4 brutal-card rounded-lg shadow-lg">
        <label for="completeName" class="block">Nombre Completo</label>
        <input
          id="completeName"
          class="w-full bg-slate-700 text-white border-cyan-400 rounded-md p-2"
          required
        />
      </div>

      <!-- contact input -->
      <div
        class="space-y-2 p-4 bg-slate-800 bg-opacity-50 rounded-lg shadow-lg brutal-card"
      >
        <label for="contact">Número de contacto</label>
        <input
          id="contact"
          class="w-full bg-slate-700 text-white border-cyan-400 rounded-md p-2"
          maxlength="10"
          required
        />
      </div>

      <!-- type of service input -->
      <div
        class="space-y-2 p-4 bg-slate-800 bg-opacity-50 rounded-lg shadow-lg brutal-card"
      >
        <label for="service">¿Que le haremos a tu PC?</label>
        <select
          id="service"
          class="w-full bg-slate-700 text-white rounded-md p-2"
          required
        >
          <option value="">Selecciona un servicio</option>
          <option value="hardware_maintenance">Mantenimiento de Hardware</option
          >
          <option value="software_maintenance">Mantenimiento de Software</option
          >
          <option value="hardware_repair"
            >Cotizar una reparación de Hardware</option
          >
          <option value="software_repair"
            >Formatear mi PC / Reparación de Software</option
          >
          <option value="ram_upgrade">Ampliar la memoria RAM</option>
          <option value="ssd_upgrade">Ampliar el SSD</option>
        </select>
      </div>

      <!-- date input -->
      <div
        class="space-y-2 p-4 bg-slate-800 bg-opacity-50 rounded-lg shadow-lg brutal-card"
      >
        <label for="date">Fecha de recogida</label>
        <input
          type="date"
          id="date"
          name="date"
          class="w-full bg-slate-700 text-white border-cyan-400 rounded-md p-2"
          required
        />
      </div>

      <!-- address input -->
      <div class="space-y-2 p-4 brutal-card rounded-lg shadow-lg lg:col-span-2">
        <label for="address" class="block">Dirección de recogida</label>
        <input
          id="address"
          name="address"
          type="text"
          class="w-full bg-slate-700 text-white border-cyan-400 rounded-md p-2"
          required
        />
      </div>
    </div>

    <!-- terms and conditions -->
    <div
      class="flex items-center space-x-2 p-4 bg-slate-800 rounded-lg shadow-lg md:col-span-2 lg:col-span-3 brutal-card"
    >
      <input type="checkbox" id="agree" class="" required />
      <label for="agree" class=""> Acepto los términos y condiciones</label>
    </div>

    <!-- submit button -->
    <button
      type="submit"
      form="serviceForm"
      class="w-full brutal-btn font-bold py-3 px-6 rounded-lg transition-all duration-300 ease-in-out transform hover:scale-105"
    >
      <!-- <link
        href="https://assets.calendly.com/assets/external/widget.css"
        rel="stylesheet"
      />
      <script
        src="https://assets.calendly.com/assets/external/widget.js"
        type="text/javascript"
        async></script>
      <script type="text/javascript">
        window.onload = function () {
          Calendly.initBadgeWidget({
            url: "https://calendly.com/agenda-tu-servicio?hide_landing_page_details=1&hide_gdpr_banner=1",
            text: "Schedule time with me",
            color: "#0069ff",
            textColor: "#ffffff",
            branding: true,
          });
        };
      </script> -->

      Solicitar Servicio
    </button>

    <!-- Calendly badge widget begin -->
    <!-- <link
      href="https://assets.calendly.com/assets/external/widget.css"
      rel="stylesheet"
    />
    <script
      src="https://assets.calendly.com/assets/external/widget.js"
      type="text/javascript"
      async></script>
    <script type="text/javascript">
      window.onload = function () {
        Calendly.initBadgeWidget({
          url: "https://calendly.com/agenda-tu-servicio?hide_landing_page_details=1&hide_gdpr_banner=1",
          text: "Schedule time with me",
          color: "#0069ff",
          textColor: "#ffffff",
          branding: true,
        });
      };
    </script> -->
    <!-- Calendly badge widget end -->
  </form>
</div>

<style define:vars={{ color: color }}>
  .brutal-btn {
    filter: drop-shadow(5px 5px 0 rgb(0 0 0 / 1));
    background-color: white;
    display: inline-block;
    padding: 0.5rem 1rem;
    border: 2px solid black;
    transition: all;
    transition-duration: 0.5s;
    animation: ease-in-out;
    font-family: "Sanchez", serif;
  }
  .brutal-btn:hover {
    filter: drop-shadow(3px 3px 0 rgb(0 0 0 / 1));
    background-color: var(--color);
  }
  div.brutal-card {
    background-color: var(--color);
    border-radius: 0.5rem;
    border: 3px solid black;
    filter: drop-shadow(7px 7px 0 rgb(0 0 0 / 1));
    transition: all;
    padding: 1rem;
    transition-duration: 0.5s;
    animation: ease-in-out;
  }
  div.brutal-card:hover {
    filter: drop-shadow(5px 5px 0 rgb(0 0 0 / 1));
  }
  input[type="checkbox"] {
    appearance: none;
    -webkit-appearance: none;
    width: 1.6em;
    height: 1.6em;
    border: 2px solid #000;
    border-radius: 4px;
    outline: none;
    cursor: pointer;
  }

  input[type="checkbox"]:checked {
    background-color: var(--color);
    position: relative;
  }

  input[type="checkbox"]:checked::before {
    content: "\2714";
    font-size: 1em;
    color: #000;
    position: absolute;
    right: 1px;
    top: -1px;
  }
</style>

<!-- <script>
  // Script para manejar la animación del botón
  const submitButton = document.querySelector('button[type="submit"]');
  submitButton.addEventListener('mouseover', () => {
    submitButton.style.transform = 'scale(1.05)';
  });
  submitButton.addEventListener('mouseout', () => {
    submitButton.style.transform = 'scale(1)';
  });
</script> -->
